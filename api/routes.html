<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <meta name="description" content="nails : Better-than-expected Rails clone in Node">

    <link rel="stylesheet" type="text/css" media="screen" href="/https://artofcode-.github.io/nails/assets/css/style.css?v=9d4f4ed3631da54806ddd3026f96514df8a88a38">

    <title>nails</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="http://github.com/ArtOfCode-/nails">View on GitHub</a>

          <h1 id="project_title">nails</h1>
          <h2 id="project_tagline">Better-than-expected Rails clone in Node</h2>

          
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>Routes JS</h1>

<p>Nails provides a handy library that lets you create routes with pure JS.</p>

<p>To use this library:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="p">{</span> <span class="nx">Router</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-nails'</span><span class="p">);</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">Router</span><span class="p">.</span><span class="nx">draw</span><span class="p">(</span><span class="nx">router</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// define your routes here</span>
<span class="p">})</span>
</code></pre></div>
<p>The <code>router</code> object passed to the function (itâ€™s also the <code>this</code> value if you use a regular function) has several methods to help you create routes:</p>

<ul>
<li><code>request(<em>method</em>, <em>path</em>, <em>options</em>)</code>

<ul>
<li><em><code>method</code></em>: a valid HTTP verb</li>
<li><em><code>path</code></em>: the path to match</li>
<li><em><code>options</code></em>: an object of other options</li>
<li><em><code>to</code></em>: the controller to render (default: <em><code>path</code></em>)</li>
</ul></li>
<li><code><em>method</em>(<em>path</em>[, <em>to</em>][, <em>options</em>])</code>

<ul>
<li><em><code>method</code></em>: a valid lowercase HTTP verb</li>
<li><em><code>path</code></em>: the path to match</li>
<li><em><code>to</code></em>: the controller to render</li>
<li><em><code>options</code></em>: an object of other options</li>
</ul></li>
<li><code>scope(<em>scope</em>, <em>function</em>)</code>

<ul>
<li><em><code>scope</code></em>: the scope component to add</li>
<li><em><code>function</code></em>: the function to call in this scope. The function is passed the router as its first argument and <code>this</code> value.</li>
<li>Example:
<code>js
scope(&#39;status&#39;, ({ get }) =&gt; {
get(&#39;&#39;, &#39;index&#39;) // matches /status, routes to status.index
})
</code>
is equivalent to:
<code>js
get(&#39;status&#39;, &#39;status.index&#39;)
</code></li>
</ul></li>
</ul>

<h1>Routes as JSON</h1>

<h3>Format</h3>

<p>The routes file can be either JavaScript or JSON (or CoffeeScript, with a call to <code>require(&#39;coffee-script/register&#39;)</code>). The JSON variant should be formatted as one top level <em>array</em> containing any number of route <em>objects</em>; the script variants should <em>export</em> an equivalent array. The JavaScript helper above can be used to dynamically generate this file to prevent errors.</p>

<h3>Required Keys</h3>

<p>In <em>each</em> route object, the following keys are <strong>required</strong>:</p>

<ul>
<li><strong><code>type</code></strong> <em>(type: <code>String</code>)</em><br>
Defines the HTTP method that this route will respond to. Must be one of <code>HEAD</code>, <code>OPTIONS</code>, <code>GET</code>, <code>POST</code>, <code>PATCH</code>,
<code>PUT</code>, or <code>DELETE</code>.</li>
<li><strong><code>url</code></strong> <em>(type: <code>String</code>)</em><br>
Defines the pathname component of the URL (after the host and before the query) that this route will respond to. A
<code>url</code> of <code>/status</code> will respond to <code>/status</code> and to <code>/status?query=xyz</code>, but not to <code>/status/json</code>. This can use express-style <code>:</code> variables (<code>/a/:b</code> will set <code>this.params.b</code> in the controller).</li>
<li><strong><code>to</code></strong> <em>(type: <code>String</code>)</em><br>
Defines the controller and function that will handle requests that match this route. Must be provided in the format
<code>controller.function</code>: for a route handled by the <code>index</code> function in the <code>status</code> controller, the value of this key
should be <code>status.index</code>.</li>
</ul>

<h3>Example File</h3>

<p><strong>JSON:</strong>
<code>json
[
  { &quot;type&quot;: &quot;GET&quot;, &quot;url&quot;: &quot;/status&quot;, &quot;to&quot;: &quot;status.index&quot; },
  { &quot;type&quot;: &quot;GET&quot;, &quot;url&quot;: &quot;/status/new&quot;, &quot;to&quot;: &quot;status.new&quot; },
  { &quot;type&quot;: &quot;POST&quot;, &quot;url&quot;: &quot;/status/new&quot;, &quot;to&quot;: &quot;status.create&quot; }
]
</code></p>

<p><strong>JavaScript:</strong>
<code>js
exports = module.exports = [
  { type: &quot;GET&quot;, url: &quot;/status&quot;, to: &quot;status.index&quot; },
  { type: &quot;GET&quot;, url: &quot;/status/new&quot;, to: &quot;status.new&quot; },
  { type: &quot;POST&quot;, url: &quot;/status/new&quot;, to: &quot;status.create&quot; }
];
</code></p>

      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        
        <p class="copyright">nails maintained by <a href="http://github.com/ArtOfCode-">ArtOfCode-</a></p>
        
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    
  </body>
</html>
